<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>菜鸟学R语言：用R做数据分析（零基础）之数据类型 | Yang Liu fr</title>
  <meta name="author" content="Yang Liu">
  
  <meta name="description" content="接着上一篇来介绍。第一周课的内容还没有总结完，争取有所收获。关于如何安装R以及可选安装的RStudio等，这里不做介绍了。市面上有很多中英文教材了，我也是看着那些教材教程过来的，网络上的资源更是丰富，我遇到的很多偏门的问题都可以搜索到，所以我只是在踏着前辈们走过的路再走一遍而已。我写这个教程的目的：

为上课做好笔记
梳理R相关的基础知识
分享自己的学习心得体会
与其他初学者一起交流">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:title" content="菜鸟学R语言：用R做数据分析（零基础）之数据类型"/>
  <meta property="og:site_name" content="Yang Liu fr"/>

  <link rel="alternate" href="/atom.xml" title="Yang Liu fr" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44434779-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <div class="wrapper">
    <header id="header"><div class="title">
  <h1><a href="/">Yang Liu fr</a></h1>
  <p><a href="/">a meiobenthologist's blog</a></p>
</div>
<nav class="nav">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">博文目录</a></li>
    
      <li><a href="/about">关于</a></li>
    
      <li><a href="/resume">简历</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-09-29T21:52:40.000Z"><a href="/2013/09/29/r-introduction-i/">2013 / 09 / 29</a></time>
    
    
  
    <h1 class="title">菜鸟学R语言：用R做数据分析（零基础）之数据类型</h1>
  

  </header>
  
  <div class="entry">
    
      <p>接着<a href="http://yangliufr.com/2013/09/24/r-introduction/">上一篇</a>来介绍。第一周课的内容还没有总结完，争取有所收获。关于如何安装R以及可选安装的RStudio等，这里不做介绍了。市面上有很多中英文教材了，我也是看着那些教材教程过来的，网络上的资源更是丰富，我遇到的很多偏门的问题都可以搜索到，所以我只是在踏着前辈们走过的路再走一遍而已。我写这个教程的目的：</p>
<ol>
<li>为上课做好笔记</li>
<li>梳理R相关的基础知识</li>
<li>分享自己的学习心得体会</li>
<li>与其他初学者一起交流<a id="more"></a>

</li>
</ol>
<h2>R 基础知识</h2>
<h3>四则运算</h3>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment"># Basic mathematical operations</span>
<span class="number">3</span> + <span class="number">4</span>
<span class="number">5</span> * <span class="number">5</span>
<span class="number">12</span> / <span class="number">3</span>
<span class="number">5</span>^<span class="number">5</span>
</pre></td></tr></table></figure>


<p>这几行代码就充分展现出了R的优势之一，<strong>即时互动</strong>。大家只要在console中输入以上一行代码，就可以直接得到结果，省去了传统语言编译的过程（并不是说R中不存在编译）。</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>&gt; <span class="number">3</span> + <span class="number">4</span>
[<span class="number">1</span>] <span class="number">7</span>
&gt; <span class="number">5</span> * <span class="number">5</span>
[<span class="number">1</span>] <span class="number">25</span>
&gt; <span class="number">12</span> / <span class="number">3</span>
[<span class="number">1</span>] <span class="number">4</span>
&gt; <span class="number">5</span>^<span class="number">5</span>
[<span class="number">1</span>] <span class="number">3125</span>
</pre></td></tr></table></figure>


<p>以上就是运行结果。</p>
<h2>R object (R 的对象)</h2>
<h3>vector (向量)</h3>
<p>向量（<code>vector</code>）是R中最基本的对象。R的对象中大部分能且只能包含同一类的若干个元素，但是<code>list</code>除外，可以包含若干类的若干个元素，这也是为什么要有<code>list</code>的原因。常见的向量有：</p>
<ul>
<li>字符向量</li>
<li>数值向量</li>
<li>整数向量</li>
<li>复数向量</li>
<li>逻辑向量</li>
</ul>
<p>下面来创建一个含有数值1,3,5,7的向量</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>
&gt; v &lt;- c(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>) <span class="comment">#c() 是combine，集合的意思</span>
&gt; x &lt;- c(<span class="number">0.5</span>, <span class="number">0.6</span>) <span class="comment">## numeric</span>
&gt; x &lt;- c(<span class="literal">TRUE</span>, <span class="literal">FALSE</span>) <span class="comment">## logical</span>
&gt; x &lt;- c(<span class="literal">T</span>, <span class="literal">F</span>) <span class="comment">## logical</span>
&gt; x &lt;- c(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>) <span class="comment">## character</span>
&gt; x &lt;- <span class="number">9</span>:<span class="number">29</span> <span class="comment">## integer</span>
&gt; x &lt;- c(<span class="number">1</span>+<span class="number">0i</span>, <span class="number">2</span>+<span class="number">4i</span>) <span class="comment">## complex</span>
</pre></td></tr></table></figure>


<p>但，如果把两种向量<code>c()</code>到一起，会得到什么样的向量集合呢？</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
&gt; y &lt;- c(<span class="number">1.7</span>, <span class="string">"a"</span>) <span class="comment">## character</span>
&gt; y &lt;- c(<span class="literal">TRUE</span>, <span class="number">2</span>) <span class="comment">## numeric</span>
&gt; y &lt;- c(<span class="string">"a"</span>, <span class="literal">TRUE</span>) <span class="comment">## character</span>
</pre></td></tr></table></figure>


<p>你会发现，这时向量集会被强制（coercion）转成同一类，为了符合向量的定义。这时，如果你需要提取其中的<strong>假向量</strong>用于运算，那就需要<code>as.**</code>functions，其中<code>**</code>可以是<code>numeric``logical``character``complex</code>等。如下，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>
&gt; x &lt;- <span class="number">0</span>:<span class="number">6</span>
&gt; class(x) <span class="comment">#class()用于查看向量的类</span>
[<span class="number">1</span>] <span class="string">"integer"</span>
&gt; as.numeric(x)
[<span class="number">1</span>] <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>
&gt; as.logical(x)
[<span class="number">1</span>] <span class="literal">FALSE</span> <span class="literal">TRUE</span> <span class="literal">TRUE</span> <span class="literal">TRUE</span> <span class="literal">TRUE</span> <span class="literal">TRUE</span> <span class="literal">TRUE</span>
&gt; as.character(x)
[<span class="number">1</span>] <span class="string">"0"</span> <span class="string">"1"</span> <span class="string">"2"</span> <span class="string">"3"</span> <span class="string">"4"</span> <span class="string">"5"</span> <span class="string">"6"</span>
&gt; as.complex(x)
[<span class="number">1</span>] <span class="number">0</span>+<span class="number">0i</span> <span class="number">1</span>+<span class="number">0i</span> <span class="number">2</span>+<span class="number">0i</span> <span class="number">3</span>+<span class="number">0i</span> <span class="number">4</span>+<span class="number">0i</span> <span class="number">5</span>+<span class="number">0i</span> <span class="number">6</span>+<span class="number">0i</span>
</pre></td></tr></table></figure>


<p>如果使用<code>as.**</code>function把某类向量转化为另一类，则会得到<code>NA</code>s。如，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>
&gt; x &lt;- c(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>)
&gt; as.numeric(x)
[<span class="number">1</span>] <span class="literal">NA</span> <span class="literal">NA</span> <span class="literal">NA</span>
Warning message:
NAs introduced by coercion
&gt; as.logical(x)
[<span class="number">1</span>] <span class="literal">NA</span> <span class="literal">NA</span> <span class="literal">NA</span>
</pre></td></tr></table></figure>


<p>有时你可能还需要空白向量，可以用<code>vector()</code>来创建，例如创建一个长度为10的数值向量<code>x</code>，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
&gt; x &lt;- vector(<span class="string">"numeric"</span>, length = <span class="number">10</span>)
&gt; x
[<span class="number">1</span>] <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>
</pre></td></tr></table></figure>


<h3>matrix （矩阵）</h3>
<p>矩阵（pl. matrices）具有维度（dimension）属性（attribute）的向量。该维度属性本身是一个长度为2的整数向量（nrow,ncol），行数和列数。</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre>
&gt; m &lt;- matrix(nrow = <span class="number">2</span>, ncol = <span class="number">3</span>)
&gt; m
[,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>]
[<span class="number">1</span>,] <span class="literal">NA</span> <span class="literal">NA</span> <span class="literal">NA</span>
[<span class="number">2</span>,] <span class="literal">NA</span> <span class="literal">NA</span> <span class="literal">NA</span>
&gt; dim(m)
[<span class="number">1</span>] <span class="number">2</span> <span class="number">3</span>
&gt; attributes(m)
$dim
[<span class="number">1</span>] <span class="number">2</span> <span class="number">3</span>
</pre></td></tr></table></figure>


<p>在R中建矩阵是遵从<strong>列优先（column-wise）</strong>的原则，即，优先按照顺序从左上角开始向右一列一列地填充。如，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>
&gt; m &lt;- matrix(<span class="number">1</span>:<span class="number">6</span>, nrow = <span class="number">2</span>, ncol = <span class="number">3</span>)
&gt; m
[,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>]
[<span class="number">1</span>,] <span class="number">1</span> <span class="number">3</span> <span class="number">5</span>
[<span class="number">2</span>,] <span class="number">2</span> <span class="number">4</span> <span class="number">6</span>
</pre></td></tr></table></figure>


<p>在了解了这个特性之后，我们就可使用<code>dim()</code>来为向量集创建矩阵了，大家只要注意<strong>列优先</strong>原则即可，如，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>
&gt; m &lt;- <span class="number">1</span>:<span class="number">10</span>
&gt; m
[<span class="number">1</span>] <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span>
&gt; dim(m) &lt;- c(<span class="number">2</span>, <span class="number">5</span>)
&gt; m
[,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>] [,<span class="number">4</span>] [,<span class="number">5</span>]
[<span class="number">1</span>,] <span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span>
[<span class="number">2</span>,] <span class="number">2</span> <span class="number">4</span> <span class="number">6</span> <span class="number">8</span> <span class="number">10</span>
</pre></td></tr></table></figure>


<p>此外，在R中，你也可以使用<code>cbind()</code>（column-binding）和<code>rbind()</code>（row-binding）functions来创建矩阵。如，</p>
<figure class="highlight lang-r"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>
&gt; x &lt;- <span class="number">1</span>:<span class="number">3</span>
&gt; y &lt;- <span class="number">10</span>:<span class="number">12</span>
&gt; cbind(x, y)
x y
[<span class="number">1</span>,] <span class="number">1</span> <span class="number">10</span>
[<span class="number">2</span>,] <span class="number">2</span> <span class="number">11</span>
[<span class="number">3</span>,] <span class="number">3</span> <span class="number">12</span>
&gt; rbind(x, y)
[,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>]
x <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>
y <span class="number">10</span> <span class="number">11</span> <span class="number">12</span>
</pre></td></tr></table></figure>


<p>好了，今天就到这里吧，可能这种方式对那些以结果为导向的初学者来说，进度太慢，而且枯燥乏味吧。但是，我想对于想要学好R的零基础同学来说，这样会给大家一个更全面完整的认识吧。我个人认为，还是好好了解这些基础知识更好点，因为我之前就是结果导向，有时为了除bug，会耗费很长时间，其实就是类似的对<strong>对象</strong>、<strong>向量</strong>等基础知识一知半解造成的。如今，返回来再看这个会给自己建立一个体系，饶有趣味。</p>

    
  </div>
  <footer>
    
      
      
  
  <div class="tags">
    <a href="/tags/菜鸟学R语言/">菜鸟学R语言</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
  <h1 class="title">留言</h1>
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</div>
  </div>
  <div class="widget-wrapper">
    <aside id="sidebar">
  
  
    
      
      
    
      
      

<div class="widget tag first">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Journal Club/">Journal Club</a><small>1</small></li>
  
    <li><a href="/tags/一些思考/">一些思考</a><small>12</small></li>
  
    <li><a href="/tags/文献管理软件/">文献管理软件</a><small>1</small></li>
  
    <li><a href="/tags/科技的那些事/">科技的那些事</a><small>4</small></li>
  
    <li><a href="/tags/绿色和平/">绿色和平</a><small>3</small></li>
  
    <li><a href="/tags/菜鸟学R语言/">菜鸟学R语言</a><small>7</small></li>
  
    <li><a href="/tags/读书笔记/">读书笔记</a><small>2</small></li>
  
  </ul>
</div>

    
      
      

<div class="widget recent-posts">
  <h3 class="title">最近的文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2013/09/29/r-introduction-i/">菜鸟学R语言：用R做数据分析（零基础）之数据类型</a>
      </li>
    
      <li>
        <a href="/2013/09/24/r-introduction/">菜鸟学R语言：用R做数据分析（零基础）之前言</a>
      </li>
    
      <li>
        <a href="/2013/09/12/yes-cancel-english-education/">赞成取消英语课</a>
      </li>
    
      <li>
        <a href="/2013/09/06/the-world-is-full-of-ideas/">这世界永远不缺idea</a>
      </li>
    
      <li>
        <a href="/2013/07/05/live-a-one-month-vacation/">暂别法国一个月</a>
      </li>
    
  </ul>
</div>

    
      
      

<div class="widget blogroll">
  <h3 class="title">友情链接</h3>
  <ul class="entry">
  
    
    <li><a href="https://tumutanzi.com/" target="_blank">tumutanzi</a></li>
  
    
    <li><a href="http://dapengde.com" target="_blank">dapengde</a></li>
  
  </ul>
</div>

    
  
</aside>
<div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2013 <a href="/">Yang Liu</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var disqus_shortname = 'yangliufr';

  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>